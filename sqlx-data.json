{
  "db": "PostgreSQL",
  "06f77bef128012f3106d4b9eb3b27a1266d5066ee9365d97e7d6ef74f78ecb42": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Int8",
          "Text"
        ]
      }
    },
    "query": "WITH inserted_row AS (\n            INSERT INTO discord_users (discord_id) \n            VALUES ($1)\n            ON CONFLICT (discord_id) DO NOTHING\n        )\n        INSERT INTO addresses (discord_id, address)\n        VALUES ($1, $2)\n        "
  },
  "099b67ad64803ef2f48120818fe3e228ce6d58e484b766267f0970ec60e34263": {
    "describe": {
      "columns": [
        {
          "name": "sum",
          "ordinal": 0,
          "type_info": "Numeric"
        }
      ],
      "nullable": [
        null
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "SELECT SUM(CAST(amount AS BIGINT)) FROM tips_vrsc"
  },
  "0a393f4b25cc4077fae804e50559a598235bfdf4b9092ea3e57ea3dfe22499e7": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Int8",
          "Int8",
          "Int8"
        ]
      }
    },
    "query": "WITH inserted_row AS (\n            INSERT INTO discord_users (discord_id)\n            VALUES ($2)\n        )\n        INSERT INTO balance_vrsc (discord_id, balance)\n        VALUES ($2, $3)\n        ON CONFLICT (discord_id)\n        DO UPDATE SET balance = CASE\n            WHEN balance_vrsc.discord_id = $1 THEN balance_vrsc.balance - $3\n            WHEN balance_vrsc.discord_id = $2 THEN balance_vrsc.balance + $3\n        END\n        WHERE balance_vrsc.discord_id IN ($1, $2)"
  },
  "247d765e9acb9efc4fc77b53c13d397decd8256c345488c96dbf890de9f2f28e": {
    "describe": {
      "columns": [
        {
          "name": "blacklisted",
          "ordinal": 0,
          "type_info": "Bool"
        }
      ],
      "nullable": [
        true
      ],
      "parameters": {
        "Left": [
          "Int8"
        ]
      }
    },
    "query": "SELECT blacklisted FROM discord_users WHERE discord_id = $1"
  },
  "2a701d7bee9dd2bcb8e4da41e89dfe4aed4a4c7864e7a90f77a14807d16b5abb": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Text",
          "Int8",
          "Varchar",
          "Text",
          "Text",
          "Int8"
        ]
      }
    },
    "query": "INSERT INTO transactions_vrsc (uuid, discord_id, transaction_id, opid, transaction_action, fee) VALUES ($1, $2, $3, $4, $5, $6)"
  },
  "5ebf45d92b3a7f5cf2e2ea7ae8d6fc5e2918f090cbce2eb4b49dc2691be8f40c": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Int8"
        ]
      }
    },
    "query": "INSERT INTO discord_users(discord_id) \n        VALUES ($1) \n        ON CONFLICT (discord_id) \n        DO NOTHING"
  },
  "63def600bdcf738d595bd767cb7d38fb5d7a0f3cd6e8cbba21f06a92fbb2a8dc": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Text",
          "Int8"
        ]
      }
    },
    "query": "UPDATE discord_users SET notifications = ($1) WHERE discord_id = ($2)"
  },
  "689a2f1bc744d2992b9920527455b4ff5aae8e5f03ca8321222789030ddb3b6a": {
    "describe": {
      "columns": [
        {
          "name": "sum",
          "ordinal": 0,
          "type_info": "Numeric"
        }
      ],
      "nullable": [
        null
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "SELECT SUM(CAST(fee AS BIGINT)) FROM transactions_vrsc WHERE fee > 0"
  },
  "722690fcab368f1c2ecba80ca262ecb06a7c1bf63e12647030608008b29ea44a": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Bool",
          "Int8"
        ]
      }
    },
    "query": "UPDATE discord_users SET blacklisted = $1 WHERE discord_id = $2"
  },
  "88c6f0c4581862cd0fe0432be0441b131f23493ebd0b5ce62cda5f34e2503c90": {
    "describe": {
      "columns": [
        {
          "name": "transaction_id",
          "ordinal": 0,
          "type_info": "Varchar"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "SELECT transaction_id FROM transactions_vrsc WHERE transaction_action = $1"
  },
  "a2850f8e9377bc9097817497eb424ecfe09ae0e51da21eb8431c6e1cf629f519": {
    "describe": {
      "columns": [
        {
          "name": "balance",
          "ordinal": 0,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Int8"
        ]
      }
    },
    "query": "SELECT balance FROM balance_vrsc WHERE discord_id = $1"
  },
  "a57c1109f5ca0868ca1fbbcdf4fde4456bf01434bb50b59357a7026119703ea0": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Text",
          "Text",
          "Int8",
          "Text",
          "Text",
          "Int8",
          "Text"
        ]
      }
    },
    "query": "INSERT INTO opids (opid, status, creation_time, result, address, amount, currency) VALUES ($1, $2, $3, $4, $5, $6, $7)"
  },
  "ab9f765f331a76860e7d2db12f59bfabce156598a80de1ea3396cc0b3a12931b": {
    "describe": {
      "columns": [
        {
          "name": "discord_id",
          "ordinal": 0,
          "type_info": "Int8"
        },
        {
          "name": "address",
          "ordinal": 1,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Int8"
        ]
      }
    },
    "query": "SELECT discord_id, address FROM addresses WHERE discord_id = $1"
  },
  "ae24fd00f574049a81c6fd500d8d0c4f9b8840737797aecdafa60269d769d204": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Int8",
          "Int8"
        ]
      }
    },
    "query": "UPDATE balance_vrsc SET balance = balance - $1 WHERE discord_id = $2"
  },
  "afa3e323ff01467f58712026f5b7e817c4d2288f55ad25c24960ae30420bed45": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Text",
          "Text"
        ]
      }
    },
    "query": "INSERT INTO unprocessed_transactions (txid, status) VALUES ($1, $2)"
  },
  "b0168be214d8630391c7fb0317ae8cc8a4d30d10f0c4e77ce16148dbd049aa16": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "UPDATE unprocessed_transactions SET status = 'processed' WHERE txid = $1"
  },
  "b05496172b04199090ebebe1c53acc75ab6bcbd39c0fc462286729ad0a30b2f2": {
    "describe": {
      "columns": [
        {
          "name": "max",
          "ordinal": 0,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        null
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "SELECT MAX(amount) FROM tips_vrsc"
  },
  "bd058a5a7ce91cf460a4c071e2e7b5e75576feee9a8ee3406395d460215000fe": {
    "describe": {
      "columns": [
        {
          "name": "discord_id",
          "ordinal": 0,
          "type_info": "Int8"
        },
        {
          "name": "transaction_id",
          "ordinal": 1,
          "type_info": "Varchar"
        },
        {
          "name": "transaction_action",
          "ordinal": 2,
          "type_info": "Text"
        },
        {
          "name": "opid",
          "ordinal": 3,
          "type_info": "Text"
        },
        {
          "name": "uuid",
          "ordinal": 4,
          "type_info": "Text"
        },
        {
          "name": "fee",
          "ordinal": 5,
          "type_info": "Int8"
        },
        {
          "name": "created_at",
          "ordinal": 6,
          "type_info": "Timestamptz"
        },
        {
          "name": "updated_at",
          "ordinal": 7,
          "type_info": "Timestamptz"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        true,
        false,
        true,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "SELECT * FROM transactions_vrsc WHERE transaction_id = $1 AND transaction_action = 'deposit'"
  },
  "cff0030da7dc7f1b3eb301b303adb25fb68f3512d110f62fc2da6f28bca7c2fe": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Int8",
          "Int8"
        ]
      }
    },
    "query": "INSERT INTO balance_vrsc (discord_id, balance)\n        VALUES ($1, $2)\n        ON CONFLICT (discord_id)\n        DO UPDATE SET balance = balance_vrsc.balance + $2"
  },
  "d6ac1264c5461c414910155fb22da28842b3bc610e672c3bba4187ede81d18c0": {
    "describe": {
      "columns": [
        {
          "name": "txid",
          "ordinal": 0,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "SELECT txid FROM unprocessed_transactions WHERE status = 'unprocessed'"
  },
  "d95982d569deedf1e85f9f2f15e2d19a54f9eaa1b5e16b63c8e48c7c7677b20f": {
    "describe": {
      "columns": [
        {
          "name": "notifications",
          "ordinal": 0,
          "type_info": "Text"
        }
      ],
      "nullable": [
        true
      ],
      "parameters": {
        "Left": [
          "Int8"
        ]
      }
    },
    "query": "SELECT notifications FROM discord_users WHERE discord_id = $1"
  },
  "e6bc0bd60f2d450ce38e2e5baeef7ee4a586353acc9789986a26f1ce71c0408e": {
    "describe": {
      "columns": [
        {
          "name": "sum",
          "ordinal": 0,
          "type_info": "Numeric"
        }
      ],
      "nullable": [
        null
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "SELECT SUM(CAST(balance AS BIGINT)) FROM balance_vrsc"
  },
  "f0690926b8dc25fe6aea81af8d01d0561c7970da4306d3f2ec440cec0e884a5b": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Text",
          "Int8",
          "Text",
          "Int8",
          "Text"
        ]
      }
    },
    "query": "INSERT INTO tips_vrsc(uuid, discord_id, kind, amount, counterparty) VALUES ($1, $2, $3, $4, $5)"
  },
  "f17075bd36c71d17a6f6dc4daea80f0405557af6e9f90ca4b77799d9464a7061": {
    "describe": {
      "columns": [
        {
          "name": "discord_id",
          "ordinal": 0,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "SELECT discord_id FROM addresses WHERE address = $1"
  },
  "f51ca941dfe1423121100c346c1f7437171635e328c40e5ab0bbe75a0f4f92b7": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Text",
          "Int8",
          "Varchar",
          "Text"
        ]
      }
    },
    "query": "INSERT INTO transactions_vrsc (uuid, discord_id, transaction_id, transaction_action) VALUES ($1, $2, $3, $4)"
  },
  "f9a1194cceed94a81c1551b46cfe2688c7e59ebb5eae56d1533cd34b0d347314": {
    "describe": {
      "columns": [
        {
          "name": "discord_id",
          "ordinal": 0,
          "type_info": "Int8"
        },
        {
          "name": "notifications",
          "ordinal": 1,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        true
      ],
      "parameters": {
        "Left": [
          "Int8Array"
        ]
      }
    },
    "query": "SELECT discord_id, notifications FROM discord_users WHERE discord_id IN (SELECT * FROM UNNEST($1::bigint[]))"
  }
}